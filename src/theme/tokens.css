/* 主题预设脚本 - 防止闪屏 */
:root {
  --sidebar-width: 280px;
  --sidebar-width-collapsed: 64px;

  /* 动画时长 */
  --animation-duration: 200ms;
  --animation-duration-slow: 300ms;

  /* 圆角 */
  --radius: 0.5rem;
  --radius-sm: 0.375rem;
  --radius-lg: 0.75rem;

  /* 玻璃效果变量 */
  --glass-bg: rgba(255, 255, 255, 0.08);
  --glass-border: rgba(255, 255, 255, 0.16);
  --glass-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
}

/* Light 主题 */
[data-theme="light"] {
  --bg: 248 250 252;
  --bg-secondary: 241 245 249;
  --bg-tertiary: 226 232 240;

  --card: 255 255 255;

  --text: 15 23 42;
  --text-secondary: 51 65 85;
  --text-muted: 100 116 139;

  --primary: 59 130 246;
  --primary-hover: 37 99 235;

  --secondary: 226 232 240;
  --accent: 168 85 247;

  --border: 226 232 240;
  --ring: 59 130 246;

  --success: 34 197 94;
  --warning: 245 158 11;
  --error: 239 68 68;

  /* 渐变 */
  --gradient-1: linear-gradient(135deg, rgb(59 130 246) 0%, rgb(168 85 247) 100%);
  --gradient-2: linear-gradient(135deg, rgb(34 197 94) 0%, rgb(59 130 246) 100%);
  --gradient-3: linear-gradient(135deg, rgb(245 158 11) 0%, rgb(239 68 68) 100%);

  /* 玻璃效果 */
  --glass-bg: rgba(255, 255, 255, 0.15);
  --glass-border: rgba(255, 255, 255, 0.2);
}

/* Dark 主题 */
[data-theme="dark"] {
  --bg: 2 6 23;
  --bg-secondary: 15 23 42;
  --bg-tertiary: 30 41 59;

  --card: 15 23 42;

  --text: 248 250 252;
  --text-secondary: 203 213 225;
  --text-muted: 148 163 184;

  --primary: 99 102 241;
  --primary-hover: 79 70 229;

  --secondary: 30 41 59;
  --accent: 168 85 247;

  --border: 51 65 85;
  --ring: 99 102 241;

  --success: 34 197 94;
  --warning: 245 158 11;
  --error: 248 113 113;

  /* 渐变 */
  --gradient-1: linear-gradient(135deg, rgb(99 102 241) 0%, rgb(168 85 247) 100%);
  --gradient-2: linear-gradient(135deg, rgb(34 197 94) 0%, rgb(99 102 241) 100%);
  --gradient-3: linear-gradient(135deg, rgb(245 158 11) 0%, rgb(248 113 113) 100%);

  /* 玻璃效果 */
  --glass-bg: rgba(15, 23, 42, 0.7);
  --glass-border: rgba(148, 163, 184, 0.2);
}

/* System 主题根据系统偏好自动切换 */
@media (prefers-color-scheme: light) {
  [data-theme="system"] {
    --bg: 248 250 252;
    --bg-secondary: 241 245 249;
    --bg-tertiary: 226 232 240;

    --card: 255 255 255;

    --text: 15 23 42;
    --text-secondary: 51 65 85;
    --text-muted: 100 116 139;

    --primary: 59 130 246;
    --primary-hover: 37 99 235;

    --secondary: 226 232 240;
    --accent: 168 85 247;

    --border: 226 232 240;
    --ring: 59 130 246;

    --success: 34 197 94;
    --warning: 245 158 11;
    --error: 239 68 68;

    --gradient-1: linear-gradient(135deg, rgb(59 130 246) 0%, rgb(168 85 247) 100%);
    --gradient-2: linear-gradient(135deg, rgb(34 197 94) 0%, rgb(59 130 246) 100%);
    --gradient-3: linear-gradient(135deg, rgb(245 158 11) 0%, rgb(239 68 68) 100%);

    --glass-bg: rgba(255, 255, 255, 0.15);
    --glass-border: rgba(255, 255, 255, 0.2);
  }
}

@media (prefers-color-scheme: dark) {
  [data-theme="system"] {
    --bg: 2 6 23;
    --bg-secondary: 15 23 42;
    --bg-tertiary: 30 41 59;

    --card: 15 23 42;

    --text: 248 250 252;
    --text-secondary: 203 213 225;
    --text-muted: 148 163 184;

    --primary: 99 102 241;
    --primary-hover: 79 70 229;

    --secondary: 30 41 59;
    --accent: 168 85 247;

    --border: 51 65 85;
    --ring: 99 102 241;

    --success: 34 197 94;
    --warning: 245 158 11;
    --error: 248 113 113;

    --gradient-1: linear-gradient(135deg, rgb(99 102 241) 0%, rgb(168 85 247) 100%);
    --gradient-2: linear-gradient(135deg, rgb(34 197 94) 0%, rgb(99 102 241) 100%);
    --gradient-3: linear-gradient(135deg, rgb(245 158 11) 0%, rgb(248 113 113) 100%);

    --glass-bg: rgba(15, 23, 42, 0.7);
    --glass-border: rgba(148, 163, 184, 0.2);
  }
}

/* 默认为 system 主题 */
:root:not([data-theme]) {
  --bg: 248 250 252;
  --bg-secondary: 241 245 249;
  --bg-tertiary: 226 232 240;

  --card: 255 255 255;

  --text: 15 23 42;
  --text-secondary: 51 65 85;
  --text-muted: 100 116 139;

  --primary: 59 130 246;
  --primary-hover: 37 99 235;

  --secondary: 226 232 240;
  --accent: 168 85 247;

  --border: 226 232 240;
  --ring: 59 130 246;

  --success: 34 197 94;
  --warning: 245 158 11;
  --error: 239 68 68;

  --gradient-1: linear-gradient(135deg, rgb(59 130 246) 0%, rgb(168 85 247) 100%);
  --gradient-2: linear-gradient(135deg, rgb(34 197 94) 0%, rgb(59 130 246) 100%);
  --gradient-3: linear-gradient(135deg, rgb(245 158 11) 0%, rgb(239 68 68) 100%);

  --glass-bg: rgba(255, 255, 255, 0.15);
  --glass-border: rgba(255, 255, 255, 0.2);
}

/* 减少动画偏好 */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}